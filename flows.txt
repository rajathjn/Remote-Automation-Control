rajath main flow
[{"id":"89a33f5c.be32b","type":"tab","label":"main","disabled":false,"info":""},{"id":"1fd5ddd1.c69392","type":"ui_list","z":"89a33f5c.be32b","group":"7f9ce113.9643b","name":"","order":0,"width":0,"height":0,"lineType":"one","actionType":"click","allowHTML":true,"outputs":1,"topic":"","x":510,"y":180,"wires":[["c8e92ad6.ee59b8"]]},{"id":"5a5fddf7.ff9654","type":"ui_form","z":"89a33f5c.be32b","name":"","label":"","group":"f7013002.86296","order":1,"width":0,"height":0,"options":[{"label":"Enter email id of the receiver","value":"email","type":"email","required":true,"rows":null}],"formValue":{"email":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":350,"y":240,"wires":[["6bfc8c2c.d0a1f4"]]},{"id":"b5acabe0.976578","type":"inject","z":"89a33f5c.be32b","name":"Add other modes","topic":"Add other modes??","payload":"[{\"title\":\"<b>Normal mode</b>\",\"description\":\"normal\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/2/22/Icon_1_red.svg\"},{\"title\":\"<b>Line follower</b>\",\"description\":\"line\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/d8/Icon_2_red.svg\"},{\"title\":\"<b>Object detection mode</b>\",\"description\":\"object\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/db/Icon_3_red.svg\"},{\"title\":\"<b>Follow mode</b>\",\"description\":\"follow\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/db/Icon_3_red.svg\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":220,"y":80,"wires":[["1fd5ddd1.c69392"]]},{"id":"c84e564f.b260b8","type":"function","z":"89a33f5c.be32b","name":"","func":"var flag=flow.get(\"flag\");\nif(flag==1)\n{\n    var dummy=flow.get(\"to\");\n    msg.to=dummy;\n    return msg;\n}","outputs":1,"noerr":0,"x":950,"y":300,"wires":[["d49b1f4a.67a4f"]]},{"id":"6bfc8c2c.d0a1f4","type":"change","z":"89a33f5c.be32b","name":"","rules":[{"t":"set","p":"to","pt":"flow","to":"payload.email","tot":"msg"},{"t":"set","p":"flag","pt":"flow","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":240,"wires":[[]]},{"id":"c8e92ad6.ee59b8","type":"function","z":"89a33f5c.be32b","name":"","func":"const value = msg.payload.description\nmsg.payload=value\nreturn msg;\n","outputs":1,"noerr":0,"x":690,"y":180,"wires":[["c84e564f.b260b8"]]},{"id":"1cce847d.a375dc","type":"e-mail in","z":"89a33f5c.be32b","name":"","protocol":"IMAP","server":"imap.gmail.com","useSSL":true,"port":"993","box":"INBOX","disposition":"Read","criteria":"_msg_","repeat":"5","fetch":"auto","inputs":0,"x":110,"y":380,"wires":[["75456f89.63936","beb137ae.b71fc8"]]},{"id":"75456f89.63936","type":"function","z":"89a33f5c.be32b","name":"","func":"if (msg.payload.length >15) \n{\nreturn msg;\n}\n","outputs":1,"noerr":0,"x":170,"y":300,"wires":[["ff15f323.49787"]]},{"id":"beb137ae.b71fc8","type":"function","z":"89a33f5c.be32b","name":"","func":"if(msg.payload.length<15)\n{\nreturn msg;\n}","outputs":1,"noerr":0,"x":230,"y":460,"wires":[["70e3a697.2af328"]]},{"id":"5e7c632b.b2414c","type":"function","z":"89a33f5c.be32b","name":"","func":"msg.payload=Number(msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":630,"y":300,"wires":[["827a3d2.cce69c","25fc75ec.b79dba"]]},{"id":"827a3d2.cce69c","type":"function","z":"89a33f5c.be32b","name":"","func":"flow.temp=msg.payload\nif(msg.payload>40)\n{\n    if(40<=msg.payload & msg.payload<50)\n    {\n        msg.payload=\"up\";\n    }\n    else if(50<=msg.payload & msg.payload<60){\n        msg.payload=\"left\";        \n    }\n    else if(60<=msg.payload & msg.payload<70){\n        msg.payload=\"right\";\n    }\n    else{\n        msg.payload=\"down\";\n    }\n    return msg;\n}","outputs":1,"noerr":0,"x":770,"y":300,"wires":[["c84e564f.b260b8"]]},{"id":"d835731d.04fc2","type":"function","z":"89a33f5c.be32b","name":"","func":"switch(msg.payload)\n{\n    case \"open\" : msg.payload=\"follow\";\n                      break;\n    case \"close\": msg.payload=\"object\";\n                      break;\n    default : msg.payload=\"follow\";  \n}\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":460,"wires":[["c84e564f.b260b8"]]},{"id":"25fc75ec.b79dba","type":"ui_text","z":"89a33f5c.be32b","group":"f7df4efe.8dd7e","order":0,"width":0,"height":0,"name":"","label":"in degree celcius","format":"{{msg.payload}}","layout":"col-center","x":590,"y":380,"wires":[]},{"id":"1e5225c8.18698a","type":"ui_text","z":"89a33f5c.be32b","group":"16d3b22d.04c54e","order":0,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":570,"y":520,"wires":[]},{"id":"70e3a697.2af328","type":"function","z":"89a33f5c.be32b","name":"","func":"var str = msg.payload;\nvar res = str.substring(0,str.length-1);\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":460,"wires":[["d835731d.04fc2","1e5225c8.18698a"]]},{"id":"ff15f323.49787","type":"function","z":"89a33f5c.be32b","name":"","func":"\nvar str = msg.payload;\nvar res = str.substring(0,str.length-1);\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":300,"wires":[["88cc5c0e.ebd09"]]},{"id":"88cc5c0e.ebd09","type":"function","z":"89a33f5c.be32b","name":"","func":"if (msg.payload.length >15) \n{\n\nvar str = msg.payload;\nvar res = str.substring(12,19);\nmsg.payload = res;\nreturn msg;\n\n}","outputs":1,"noerr":0,"x":450,"y":300,"wires":[["5e7c632b.b2414c"]]},{"id":"d49b1f4a.67a4f","type":"function","z":"89a33f5c.be32b","name":"","func":"var key = \"rithvikkmr39@gmail.com\";\nif(key == flow.get(\"to\"))\n{\n    var b=Buffer.from(msg.payload);\n    msg.payload= b;\n    return msg;\n}\n\n//var payload=msg.payload;\n//var buf = Buffer.alloc(2);//the integer takes 2 bytes\n//buf.writeInt16BE(payload);\n//msg.payload=buf;\n//return msg;","outputs":1,"noerr":0,"x":1130,"y":300,"wires":[["f38c4888.c4ba48","97f3b8c6.feb668"]]},{"id":"97f3b8c6.feb668","type":"debug","z":"89a33f5c.be32b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1330,"y":220,"wires":[]},{"id":"f38c4888.c4ba48","type":"bt serial out","z":"89a33f5c.be32b","name":"","btSerial":"7184f553.2ec43c","x":1330,"y":300,"wires":[]},{"id":"c41977df.121f88","type":"comment","z":"89a33f5c.be32b","name":"Enter the key email","info":"","x":1110,"y":260,"wires":[]},{"id":"7f9ce113.9643b","type":"ui_group","z":"","name":"Bot  Mode(manual) , choose","tab":"be26abc3.2bf758","order":2,"disp":true,"width":"6","collapse":false},{"id":"f7013002.86296","type":"ui_group","z":"","name":"Receivers address!!","tab":"be26abc3.2bf758","order":1,"disp":true,"width":"12","collapse":false},{"id":"f7df4efe.8dd7e","type":"ui_group","z":"","name":"Temperature","tab":"be26abc3.2bf758","order":3,"disp":true,"width":"6","collapse":false},{"id":"16d3b22d.04c54e","type":"ui_group","z":"","name":"Terminal","tab":"be26abc3.2bf758","order":4,"disp":true,"width":"6","collapse":false},{"id":"7184f553.2ec43c","type":"bt-serial-port","z":"","name":"hc-05","btAddress":"00:18:e4:35:08:7d","serialReconnectTime":"30"},{"id":"be26abc3.2bf758","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false}]

rajath output receive from bluetooth
[{"id":"9d6c1a52.8faef8","type":"tab","label":"receive output from bot","disabled":false,"info":""},{"id":"e3f0ea6a.b8bf98","type":"bt serial in","z":"9d6c1a52.8faef8","name":"","btSerial":"18251024.4adcd","x":110,"y":140,"wires":[["6abff938.708e18"]]},{"id":"5d2fd448.09063c","type":"debug","z":"9d6c1a52.8faef8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":810,"y":60,"wires":[]},{"id":"54a40dd5.a234f4","type":"function","z":"9d6c1a52.8faef8","name":"","func":"//msg.payload = msg.payload.toString();\n//return msg;\n\nvar b=Buffer.from(msg.payload);\nvar s=b.toString();\nmsg.payload= s;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":160,"wires":[["72cb96e1.a7d258"]]},{"id":"dbdb3ba4.c5f288","type":"e-mail","z":"9d6c1a52.8faef8","server":"smtp.gmail.com","port":"465","secure":true,"tls":true,"name":"rithvikkmr39@gmail.com","dname":"","x":850,"y":160,"wires":[]},{"id":"d99de2ad.eb88c","type":"ui_text","z":"9d6c1a52.8faef8","group":"593fc89c.2e1bd8","order":0,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":790,"y":280,"wires":[]},{"id":"72cb96e1.a7d258","type":"function","z":"9d6c1a52.8faef8","name":"","func":"var str = msg.payload;\nvar res = str.substring(0,str.length-1);\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":160,"wires":[["d99de2ad.eb88c","5d2fd448.09063c","dbdb3ba4.c5f288"]]},{"id":"8399b052.1b89a","type":"function","z":"9d6c1a52.8faef8","name":"","func":"if(msg.payload.length>2)\nreturn msg;","outputs":1,"noerr":0,"x":430,"y":300,"wires":[["54a40dd5.a234f4"]]},{"id":"6abff938.708e18","type":"trigger","z":"9d6c1a52.8faef8","op1":"","op2":"0","op1type":"pay","op2type":"str","duration":"-10","extend":false,"units":"s","reset":"","bytopic":"all","name":"","x":250,"y":300,"wires":[["8399b052.1b89a"]]},{"id":"18251024.4adcd","type":"bt-serial-port","z":"","name":"hc-05","btAddress":"00:18:e4:35:08:7d","serialReconnectTime":"40"},{"id":"593fc89c.2e1bd8","type":"ui_group","z":"","name":"Result Terminal","tab":"be26abc3.2bf758","order":1,"disp":true,"width":"6","collapse":false},{"id":"be26abc3.2bf758","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false}]

rithvik open and close bot
[{"id":"cce64696.dd80f8","type":"tab","label":"get value and send mail","disabled":false,"info":""},{"id":"847aaf1b.05308","type":"bt serial in","z":"cce64696.dd80f8","name":"RK","btSerial":"18251024.4adcd","x":110,"y":180,"wires":[["7d3f6a51.16f274"]]},{"id":"d7924c30.57119","type":"debug","z":"cce64696.dd80f8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":870,"y":280,"wires":[]},{"id":"b7f23dc8.7dfc","type":"function","z":"cce64696.dd80f8","name":"","func":"//msg.payload = msg.payload.toString();\n//return msg;\n\nvar b=Buffer.from(msg.payload);\nvar s=b.toString();\nmsg.payload= s;\nreturn msg;","outputs":1,"noerr":0,"x":390,"y":180,"wires":[["9ebc19fe.19f418"]]},{"id":"9ebc19fe.19f418","type":"function","z":"cce64696.dd80f8","name":"","func":"if (msg.payload.length >13) {\n   return msg;\n} \n\n\n//else {\n//   break;\n//}","outputs":1,"noerr":0,"x":530,"y":180,"wires":[["31b446f4.bbe17a"]]},{"id":"d6feb1ff.8a03e","type":"e-mail","z":"cce64696.dd80f8","server":"smtp.gmail.com","port":"465","secure":true,"tls":true,"name":"rajathjnxcopy@gmail.com","dname":"","x":890,"y":80,"wires":[]},{"id":"31b446f4.bbe17a","type":"function","z":"cce64696.dd80f8","name":"","func":"if (msg.payload.length >14) {\n   msg.payload = \"open\"\n   return msg;\n} \n\nelse\n{\n    msg.payload = \"close\"\n    return msg;\n}\n","outputs":1,"noerr":0,"x":670,"y":180,"wires":[["d7924c30.57119","d6feb1ff.8a03e","c37b12a.a405bf"]]},{"id":"b9146ebd.04bfc","type":"e-mail in","z":"cce64696.dd80f8","name":"","protocol":"IMAP","server":"imap.gmail.com","useSSL":true,"port":"993","box":"INBOX","disposition":"Read","criteria":"UNSEEN","repeat":"10","fetch":"auto","inputs":0,"x":350,"y":440,"wires":[["21fb8d53.95c732"]]},{"id":"21fb8d53.95c732","type":"ui_text","z":"cce64696.dd80f8","group":"9476b42f.0a6718","order":3,"width":"6","height":"6","name":"","label":"Feedback Terminal","format":"{{msg.payload}}","layout":"col-center","x":730,"y":440,"wires":[]},{"id":"c37b12a.a405bf","type":"ui_text","z":"cce64696.dd80f8","group":"42c1ab33.8e9cb4","order":1,"width":"6","height":"6","name":"","label":"Terminal","format":"{{msg.payload}}","layout":"col-center","x":880,"y":180,"wires":[]},{"id":"7d3f6a51.16f274","type":"trigger","z":"cce64696.dd80f8","op1":"","op2":"0","op1type":"pay","op2type":"str","duration":"-10","extend":false,"units":"s","reset":"","bytopic":"all","name":"","x":250,"y":280,"wires":[["b7f23dc8.7dfc"]]},{"id":"18251024.4adcd","type":"bt-serial-port","z":"","name":"hc-05","btAddress":"00:18:e4:35:08:7d","serialReconnectTime":"40"},{"id":"9476b42f.0a6718","type":"ui_group","z":"","name":"Feed backTerminal","tab":"4bffd53b.4542fc","order":4,"disp":true,"width":"6","collapse":false},{"id":"42c1ab33.8e9cb4","type":"ui_group","z":"","name":"Terminal","tab":"4bffd53b.4542fc","order":4,"disp":true,"width":"6","collapse":false},{"id":"4bffd53b.4542fc","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false}]

rithvik temperature flow
[{"id":"2c5a7b23.6a0eb4","type":"tab","label":"Temperature sending flow","disabled":false,"info":""},{"id":"b64890cb.5d85e","type":"ui_form","z":"2c5a7b23.6a0eb4","name":"","label":"","group":"7b350685.5fe798","order":1,"width":0,"height":0,"options":[{"label":"Enter email id of the receiver","value":"email","type":"email","required":true,"rows":null}],"formValue":{"email":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":150,"y":80,"wires":[["beca06ee.7d6658"]]},{"id":"beca06ee.7d6658","type":"change","z":"2c5a7b23.6a0eb4","name":"","rules":[{"t":"set","p":"to","pt":"flow","to":"payload.email","tot":"msg"},{"t":"set","p":"flag","pt":"flow","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":80,"wires":[[]]},{"id":"61de69e1.94e1c8","type":"bt serial in","z":"2c5a7b23.6a0eb4","name":"RK","btSerial":"bb0e8fd9.08a51","x":90,"y":200,"wires":[["cb15af4b.fe452"]]},{"id":"cb15af4b.fe452","type":"function","z":"2c5a7b23.6a0eb4","name":"","func":"//msg.payload = msg.payload.toString();\n//return msg;\n\nvar b=Buffer.from(msg.payload);\nvar s=b.toString();\nmsg.payload= s;\nreturn msg;","outputs":1,"noerr":0,"x":230,"y":200,"wires":[["9f57546b.9a37c8"]]},{"id":"9f57546b.9a37c8","type":"function","z":"2c5a7b23.6a0eb4","name":"","func":"if (msg.payload.length >13) {\n   return msg;\n} \n\n\n//else {\n//   break;\n//}","outputs":1,"noerr":0,"x":390,"y":200,"wires":[["826cde50.dea2d"]]},{"id":"350b58c3.5e0868","type":"ui_text","z":"2c5a7b23.6a0eb4","group":"ac5df4d9.1fdd68","order":1,"width":"6","height":"6","name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":710,"y":140,"wires":[]},{"id":"826cde50.dea2d","type":"function","z":"2c5a7b23.6a0eb4","name":"","func":"var flag=flow.get(\"flag\");\nvar key = \"rajathjnxcopy@gmail.com\"\nif(flag==1 & key == flow.get(\"to\"))\n{\n    var dummy=flow.get(\"to\");\n    msg.to=dummy;\n    return msg;\n}","outputs":1,"noerr":0,"x":550,"y":200,"wires":[["350b58c3.5e0868","fd6ac894.1cc058"]]},{"id":"fd6ac894.1cc058","type":"e-mail","z":"2c5a7b23.6a0eb4","server":"smtp.gmail.com","port":"465","secure":true,"tls":true,"name":"rajathjnxcopy@gmail.com","dname":"","x":770,"y":240,"wires":[]},{"id":"23361206.23e50e","type":"comment","z":"2c5a7b23.6a0eb4","name":"Enter the key email below","info":"","x":470,"y":160,"wires":[]},{"id":"7b350685.5fe798","type":"ui_group","z":"","name":"Receivers address!!","tab":"7f9cead2.1f97b4","order":1,"disp":true,"width":"12","collapse":false},{"id":"bb0e8fd9.08a51","type":"bt-serial-port","z":"","name":"","btAddress":"00:18:E4:35:1C:F0","serialReconnectTime":"5"},{"id":"ac5df4d9.1fdd68","type":"ui_group","z":"","name":"Temperature Terminal","tab":"7f9cead2.1f97b4","order":4,"disp":true,"width":"6","collapse":false},{"id":"7f9cead2.1f97b4","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false}]

Intermediate relay flow
[{"id":"fa7b17fb.6b24c8","type":"tab","label":"Intermediate Bounce flow","disabled":false,"info":""},{"id":"130471a7.9754de","type":"ui_list","z":"fa7b17fb.6b24c8","group":"d79d2e86.0c40b","name":"","order":0,"width":0,"height":0,"lineType":"one","actionType":"click","allowHTML":true,"outputs":1,"topic":"","x":410,"y":160,"wires":[["1165f4b4.7d1b3b"]]},{"id":"fd064628.f5a348","type":"ui_form","z":"fa7b17fb.6b24c8","name":"","label":"","group":"5fcc2510.a8b52c","order":1,"width":0,"height":0,"options":[{"label":"Enter email id of the receiver","value":"email","type":"email","required":true,"rows":null}],"formValue":{"email":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":210,"y":40,"wires":[["d973c352.6374c"]]},{"id":"e1bcdc1f.9b7c7","type":"inject","z":"fa7b17fb.6b24c8","name":"","topic":"Add other modes","payload":"[{\"title\":\"<b>Normal mode</b>\",\"description\":\"normal\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/2/22/Icon_1_red.svg\"},{\"title\":\"<b>Line follower</b>\",\"description\":\"line\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/d8/Icon_2_red.svg\"},{\"title\":\"<b>Object detection mode</b>\",\"description\":\"object\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/db/Icon_3_red.svg\"},{\"title\":\"<b>Follow mode</b>\",\"description\":\"follow\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/d8/Icon_2_red.svg\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":270,"y":160,"wires":[["130471a7.9754de"]]},{"id":"91d1531b.45bd4","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"var flag=flow.get(\"flag\");\nif(flag==1)\n{\n    var dummy=flow.get(\"to\");\n    msg.to=dummy;\n    return msg;\n}","outputs":1,"noerr":0,"x":810,"y":200,"wires":[["c0bee211.90a51"]]},{"id":"d973c352.6374c","type":"change","z":"fa7b17fb.6b24c8","name":"","rules":[{"t":"set","p":"to","pt":"flow","to":"payload.email","tot":"msg"},{"t":"set","p":"flag","pt":"flow","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":40,"wires":[[]]},{"id":"1165f4b4.7d1b3b","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"const value = msg.payload.description\nmsg.payload=value\nreturn msg;\n","outputs":1,"noerr":0,"x":550,"y":160,"wires":[["91d1531b.45bd4"]]},{"id":"c0bee211.90a51","type":"e-mail","z":"fa7b17fb.6b24c8","server":"smtp.gmail.com","port":"465","secure":true,"tls":true,"name":"","dname":"","x":970,"y":200,"wires":[]},{"id":"977d0c8d.b568d","type":"e-mail in","z":"fa7b17fb.6b24c8","name":"","protocol":"IMAP","server":"imap.gmail.com","useSSL":true,"port":"993","box":"INBOX","disposition":"Read","criteria":"msg","repeat":"10","fetch":"auto","inputs":0,"x":50,"y":260,"wires":[["b1c231cc.5226f","452862c7.e9717c"]]},{"id":"b1c231cc.5226f","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"if (msg.payload.length >15) \n{\n\nvar str = msg.payload;\nvar res = str.substring(14,19);\nmsg.payload = res;\nreturn msg;\n\n}\n","outputs":1,"noerr":0,"x":330,"y":220,"wires":[["b188068b.12d7b8"]]},{"id":"452862c7.e9717c","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"if(msg.payload.length<15)\n{\nreturn msg;\n}","outputs":1,"noerr":0,"x":330,"y":300,"wires":[["80af561a.96a058","87db509c.b72be"]]},{"id":"b188068b.12d7b8","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"msg.payload=Number(msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":220,"wires":[["3c2cb191.dd328e","496be1ec.87442"]]},{"id":"3c2cb191.dd328e","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"flow.temp=msg.payload\nif(msg.payload>30)\n{\n    if(30<msg.payload & msg.payload<35)\n    {\n        msg.payload=\"up\";\n    }\n    else if(35<=msg.payload & msg.payload<40){\n        msg.payload=\"left\";        \n    }\n    else if(40<=msg.payload & msg.payload<45){\n        msg.payload=\"right\";\n    }\n    else{\n        msg.payload=\"down\";\n    }\n    return msg;\n}","outputs":1,"noerr":0,"x":590,"y":220,"wires":[["91d1531b.45bd4"]]},{"id":"80af561a.96a058","type":"function","z":"fa7b17fb.6b24c8","name":"","func":"if(flow.temp<=30)\n{\n   switch(msg.payload)\n   {\n        case \"open\" : msg.payload=\"follow\";\n                      break;\n        case \"close\": msg.payload=\"object\";\n                      break;\n        default : msg.payload=\"follow\";  \n   }\n}\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":300,"wires":[["91d1531b.45bd4"]]},{"id":"496be1ec.87442","type":"ui_text","z":"fa7b17fb.6b24c8","group":"74744ff8.d58c5","order":0,"width":0,"height":0,"name":"","label":"in degree celcius","format":"{{msg.payload}}","layout":"col-center","x":740,"y":360,"wires":[]},{"id":"87db509c.b72be","type":"ui_text","z":"fa7b17fb.6b24c8","group":"11cd7c75.d83934","order":0,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload}}","layout":"col-center","x":450,"y":360,"wires":[]},{"id":"c077a41d.ce6c78","type":"comment","z":"fa7b17fb.6b24c8","name":"Enter the receiving email","info":"","x":110,"y":320,"wires":[]},{"id":"d79d2e86.0c40b","type":"ui_group","z":"","name":"Bot  Mode(manual) , choose","tab":"51ff8c2.48d3274","order":2,"disp":true,"width":"6","collapse":false},{"id":"5fcc2510.a8b52c","type":"ui_group","z":"","name":"Receivers address!!","tab":"51ff8c2.48d3274","order":1,"disp":true,"width":"12","collapse":false},{"id":"74744ff8.d58c5","type":"ui_group","z":"","name":"Temperature","tab":"51ff8c2.48d3274","order":3,"disp":true,"width":"6","collapse":false},{"id":"11cd7c75.d83934","type":"ui_group","z":"","name":"Terminal","tab":"51ff8c2.48d3274","order":4,"disp":true,"width":"6","collapse":false},{"id":"51ff8c2.48d3274","type":"ui_tab","z":"","name":"Home","icon":"dashboard","disabled":false,"hidden":false}]

Manual control flow
[{"id":"95607502.4f9638","type":"tab","label":"Manual control UI","disabled":false,"info":""},{"id":"cd457ccf.ccc68","type":"ui_button","z":"95607502.4f9638","name":"","group":"594b06a7.afd488","order":0,"width":"0","height":"0","passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"mi-arrow_downward","payload":"down","payloadType":"str","topic":"movement","x":610,"y":320,"wires":[["ef08c149.d3aa1"]]},{"id":"3f704b49.6d0a94","type":"ui_button","z":"95607502.4f9638","name":"","group":"594b06a7.afd488","order":1,"width":"0","height":"0","passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"mi-arrow_upward","payload":"up","payloadType":"str","topic":"movement","x":610,"y":360,"wires":[["ef08c149.d3aa1"]]},{"id":"ff06d81a.682638","type":"ui_button","z":"95607502.4f9638","name":"","group":"594b06a7.afd488","order":2,"width":"3","height":"1","passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"mi-arrow_backward","payload":"left","payloadType":"str","topic":"movement","x":610,"y":400,"wires":[["ef08c149.d3aa1"]]},{"id":"da1dd634.fc2ce8","type":"ui_button","z":"95607502.4f9638","name":"","group":"594b06a7.afd488","order":3,"width":"3","height":"1","passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"mi-arrow_forward","payload":"right","payloadType":"str","topic":"movement","x":610,"y":440,"wires":[["ef08c149.d3aa1"]]},{"id":"4ec6f0d8.6d119","type":"ui_list","z":"95607502.4f9638","group":"9ace68ae.302ba8","name":"","order":2,"width":0,"height":0,"lineType":"one","actionType":"click","allowHTML":true,"outputs":1,"topic":"","x":630,"y":240,"wires":[["ea0a9cfd.b9d62"]]},{"id":"ea0a9cfd.b9d62","type":"function","z":"95607502.4f9638","name":"","func":"const value = msg.payload.description\nmsg.payload=value\nreturn msg;","outputs":1,"noerr":0,"x":850,"y":240,"wires":[["ef08c149.d3aa1"]]},{"id":"91856c6b.011ec","type":"debug","z":"95607502.4f9638","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":610,"y":600,"wires":[]},{"id":"afc65fa8.e35f5","type":"change","z":"95607502.4f9638","name":"","rules":[{"t":"set","p":"to","pt":"msg","to":"payload.Email","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"payload.command","tot":"msg"},{"t":"set","p":"flag","pt":"flow","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":620,"y":520,"wires":[["6fb47019.4862b","ba4b0233.e8213"]]},{"id":"cc2e15e5.0e4438","type":"ui_form","z":"95607502.4f9638","name":"","label":"","group":"3aecb81.53da048","order":1,"width":0,"height":0,"options":[{"label":"Enter the email adress","value":"Email","type":"email","required":true,"rows":null},{"label":"Enter the commands","value":"command","type":"text","required":true,"rows":null}],"formValue":{"Email":"","command":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":410,"y":520,"wires":[["afc65fa8.e35f5","91856c6b.011ec"]]},{"id":"6fb47019.4862b","type":"debug","z":"95607502.4f9638","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":870,"y":600,"wires":[]},{"id":"ba4b0233.e8213","type":"e-mail","z":"95607502.4f9638","server":"smtp.gmail.com","port":"465","secure":true,"tls":true,"name":"rithvikkmr1939@gmail.com","dname":"","x":920,"y":520,"wires":[]},{"id":"e27bbb8.a31ed48","type":"ui_text","z":"95607502.4f9638","group":"fceb68cb.1a2338","order":0,"width":0,"height":0,"name":"","label":"in degree celcius","format":"{{msg.payload}}","layout":"row-center","x":1210,"y":680,"wires":[]},{"id":"2c7cc6c6.0b732a","type":"function","z":"95607502.4f9638","name":"","func":"if (msg.payload.length >15) \n{\n\nvar str = msg.payload;\nvar res = str.substring(12,19);\nmsg.payload = res;\nreturn msg;\n\n}\n","outputs":1,"noerr":0,"x":650,"y":680,"wires":[["7201abde.6523b4"]]},{"id":"47fd2257.3b012c","type":"function","z":"95607502.4f9638","name":"","func":"if(msg.payload.length<15)\n{\nreturn msg;\n}","outputs":1,"noerr":0,"x":710,"y":740,"wires":[["d032ed77.96457"]]},{"id":"d032ed77.96457","type":"ui_toast","z":"95607502.4f9638","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1010,"y":740,"wires":[[]]},{"id":"f1e826cc.5d5c48","type":"inject","z":"95607502.4f9638","name":"Insert Manual Modes","topic":"","payload":"[{\"title\":\"<b>Normal mode</b>\",\"description\":\"normal\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/2/22/Icon_1_red.svg\"},{\"title\":\"<b>Line follower</b>\",\"description\":\"line\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/d8/Icon_2_red.svg\"},{\"title\":\"<b>Object detection mode</b>\",\"description\":\"object\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/db/Icon_3_red.svg\"},{\"title\":\"<b>Follow mode</b>\",\"description\":\"follow\",\"icon\":\"https://upload.wikimedia.org/wikipedia/commons/d/d8/Icon_2_red.svg\"}]","payloadType":"json","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":400,"y":240,"wires":[["4ec6f0d8.6d119"]]},{"id":"ba019b37.fc7f18","type":"function","z":"95607502.4f9638","name":"","func":"msg.payload=Number(msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":970,"y":680,"wires":[["e27bbb8.a31ed48"]]},{"id":"ef08c149.d3aa1","type":"function","z":"95607502.4f9638","name":"","func":"var flag=flow.get(\"flag\");\nif(flag==1)\n{\n    return msg;\n}","outputs":1,"noerr":0,"x":950,"y":360,"wires":[["9a21819e.b7c13","f14b7b08.d2b758"]]},{"id":"9a21819e.b7c13","type":"debug","z":"95607502.4f9638","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1140,"y":460,"wires":[]},{"id":"f14b7b08.d2b758","type":"e-mail","z":"95607502.4f9638","server":"smtp.gmail.com","port":"465","secure":true,"tls":true,"name":"rajathjnxcopy@gmail.com","dname":"","x":1170,"y":360,"wires":[]},{"id":"78c98200.da2d0c","type":"debug","z":"95607502.4f9638","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":670,"y":800,"wires":[]},{"id":"87bc9b12.077ee8","type":"e-mail in","z":"95607502.4f9638","name":"","protocol":"IMAP","server":"imap.gmail.com","useSSL":true,"port":"993","box":"INBOX","disposition":"Read","criteria":"UNSEEN","repeat":"300","fetch":"auto","inputs":0,"x":480,"y":720,"wires":[["2c7cc6c6.0b732a","47fd2257.3b012c","78c98200.da2d0c"]]},{"id":"7201abde.6523b4","type":"function","z":"95607502.4f9638","name":"","func":"var str = msg.payload;\nvar res = str.substring(0,str.length-1);\nmsg.payload = res;\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":680,"wires":[["ba019b37.fc7f18"]]},{"id":"594b06a7.afd488","type":"ui_group","z":"","name":" Control","tab":"56634752.f6d3b8","order":2,"disp":true,"width":"6","collapse":false},{"id":"9ace68ae.302ba8","type":"ui_group","z":"","name":"Mode","tab":"56634752.f6d3b8","order":1,"disp":true,"width":"6","collapse":false},{"id":"3aecb81.53da048","type":"ui_group","z":"","name":"commands","tab":"56634752.f6d3b8","order":3,"disp":true,"width":"6","collapse":false},{"id":"fceb68cb.1a2338","type":"ui_group","z":"","name":"Temperature","tab":"56634752.f6d3b8","order":4,"disp":true,"width":"6","collapse":false},{"id":"56634752.f6d3b8","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1}]

receive and get feedback
[{"id":"3eca57de.18cab8","type":"tab","label":"receive and get feedback","disabled":false,"info":""},{"id":"79799cc3.7cefb4","type":"function","z":"3eca57de.18cab8","name":"","func":"var b=Buffer.from(msg.payload);\nmsg.payload= b;\nreturn msg;\n\n//var payload=msg.payload;\n//var buf = Buffer.alloc(2);//the integer takes 2 bytes\n//buf.writeInt16BE(payload);\n//msg.payload=buf;\n//return msg;","outputs":1,"noerr":0,"x":530,"y":160,"wires":[["954f5746.1273b8","b1d87e9e.18c42","38dd0222.31735e"]]},{"id":"8644d3b4.64e14","type":"e-mail in","z":"3eca57de.18cab8","name":"","protocol":"IMAP","server":"imap.gmail.com","useSSL":true,"port":"993","box":"INBOX","disposition":"Read","criteria":"_msg_","repeat":"2","fetch":"auto","inputs":0,"x":250,"y":160,"wires":[["b2cc132d.03852"]]},{"id":"b1d87e9e.18c42","type":"debug","z":"3eca57de.18cab8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":770,"y":60,"wires":[]},{"id":"954f5746.1273b8","type":"bt serial out","z":"3eca57de.18cab8","name":"","btSerial":"26c8f3bd.f8abfc","x":790,"y":160,"wires":[]},{"id":"b2cc132d.03852","type":"function","z":"3eca57de.18cab8","name":"","func":"var str = msg.payload;\nvar res = str.substring(0,str.length-1);\nmsg.payload = res;\nreturn msg;\n","outputs":1,"noerr":0,"x":390,"y":160,"wires":[["79799cc3.7cefb4"]]},{"id":"3229bae.ed00f46","type":"bt serial in","z":"3eca57de.18cab8","name":"hc-05","btSerial":"18251024.4adcd","x":90,"y":380,"wires":[["e414710f.27d75"]]},{"id":"60b32e98.65c36","type":"debug","z":"3eca57de.18cab8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":830,"y":440,"wires":[]},{"id":"e414710f.27d75","type":"function","z":"3eca57de.18cab8","name":"","func":"//msg.payload = msg.payload.toString();\n//return msg;\nif(msg.payload.length>2)\n{\nvar b=Buffer.from(msg.payload);\nvar s=b.toString();\nmsg.payload= s;\nreturn msg;\n}","outputs":1,"noerr":0,"x":330,"y":380,"wires":[["723e61ed.c0b9d"]]},{"id":"723e61ed.c0b9d","type":"function","z":"3eca57de.18cab8","name":"","func":"var str = msg.payload;\nvar res = str.substring(0,str.length-1);\nmsg.payload = str;\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":380,"wires":[["cdcb436d.32752","60b32e98.65c36"]]},{"id":"cdcb436d.32752","type":"ui_text","z":"3eca57de.18cab8","group":"42c1ab33.8e9cb4","order":1,"width":"6","height":"6","name":"","label":"Message received form bot","format":"{{msg.payload}}","layout":"col-center","x":840,"y":340,"wires":[]},{"id":"798ece78.929d1","type":"trigger","z":"3eca57de.18cab8","op1":"","op2":"0","op1type":"pay","op2type":"str","duration":"-250","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":260,"y":500,"wires":[[]]},{"id":"38dd0222.31735e","type":"ui_text","z":"3eca57de.18cab8","group":"593fc89c.2e1bd8","order":0,"width":"6","height":"6","name":"","label":"Command sent","format":"{{msg.payload}}","layout":"col-center","x":800,"y":240,"wires":[]},{"id":"26c8f3bd.f8abfc","type":"bt-serial-port","z":"","name":"hc-05","btAddress":"00:18:e4:35:08:7d","serialReconnectTime":"30"},{"id":"18251024.4adcd","type":"bt-serial-port","z":"","name":"hc-05","btAddress":"00:18:e4:35:08:7d","serialReconnectTime":"40"},{"id":"42c1ab33.8e9cb4","type":"ui_group","z":"","name":"Feed back Terminal","tab":"3d7994a7.2a0d8c","order":4,"disp":true,"width":"6","collapse":false},{"id":"593fc89c.2e1bd8","type":"ui_group","z":"","name":"Terminal","tab":"3d7994a7.2a0d8c","order":1,"disp":true,"width":"6","collapse":false},{"id":"3d7994a7.2a0d8c","type":"ui_tab","z":"","name":"receive and feedback","icon":"dashboard","disabled":false,"hidden":false}]





